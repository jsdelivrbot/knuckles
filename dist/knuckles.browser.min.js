!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.Knuckles=t()}}(function(){return function t(r,e,n){function o(u,s){if(!e[u]){if(!r[u]){var l="function"==typeof require&&require;if(!s&&l)return l(u,!0);if(i)return i(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var h=e[u]={exports:{}};r[u][0].call(h.exports,function(t){var e=r[u][1][t];return o(e?e:t)},h,h.exports,t,r,e,n)}return e[u].exports}for(var i="function"==typeof require&&require,u=0;u<n.length;u++)o(n[u]);return o}({1:[function(t,r,e){function n(t){return function(r){var e,n,o,i;return n=r.match(new RegExp(t)),null!=n?(o=null!=(i=n[1])?i:"",e=n[0].length-1,r=r.slice(e+1)):o="",{result:o,input:r}}}function o(t){return function(r){var e,n;return e={},n="",t.forEach(function(t){var o,i,u,l;i=s(t);try{l=i(r),u=l.result,r=l.input}catch(f){throw o=f}return u&&"string"!=typeof u?Object.keys(u).forEach(function(t){return u[t]?e[t]=u[t]:void 0}):null!=u?n+=u:void 0}),Object.keys(e).length||(e=n),{result:e,input:r}}}function i(t){return function(r){var e,n,o,i,u,l,f,h,c;if(u=Object.keys(t),h={},1===u.length){i=u[0],n=s(t[i]);try{if(c=n(r),l=c.result,r=c.input,!l)throw new Error("Result is empty on "+r+" for "+i)}catch(a){if(e=a,!(t[i]instanceof Array))throw e;l=""}}else{if(l={},o=r,u.forEach(function(e){var i,u,f,h;console.log("input",r),n=s(t[e]);try{f=n(o),h=f.result,i=f.input}catch(c){}return h&&!i?"string"==typeof h?l[e]=h:1===Object.keys(h).length?(u=Object.keys(h)[0],l[e]=u===e?h[u]:h):l[e]=h:void 0}),!Object.keys(l).length)throw new Error("Result is empty on "+r+" for "+u);r=""}return"string"==typeof l?h[i]=l:1===Object.keys(l).length?(f=Object.keys(l)[0],f!==i&&i?h[i]=l:h[f]=l[f]):i?h[i]=l:h=l,{result:h,input:r}}}function u(t){if("string"==typeof t)return n(t);if(t instanceof Array)return o(t);if(t instanceof Object)return i(t);throw new Error("Unrecognized token: "+t)}function s(t){var r,e;return e=u(t),r=function(r){var n,o,i,u,s,l,f,h,c;if(!r)throw i=function(t){return"string"==typeof t?t:t instanceof Array?t.map(function(t){return i(t)}).toString():Object.keys(t).toString()},new Error("Input is empty for "+i(t));l={},f="",u=r;try{if(c=e(r),s=c.result,r=c.input,"string"==typeof s)f+=s;else if(1===Object.keys(s).length)o=Object.keys(s)[0],l[o]=s[o];else for(o in s)h=s[o],l[o]=h}catch(a){throw n=a,console.log(n.toString()),n}return s&&r===u&&console.log("blah",s,r),Object.keys(l).length||(l=f),{result:l,input:r}}}var l=function(){return this.word="([a-zA-Z\\$_][a-zA-Z0-9\\$_]*)",this.protocol="^"+this.word+":///?",this.port=[":",{port:"([0-9]+)"}],this.whitespace=["\\s*"],this.server=[{server:"^("+("("+this.word+"\\.)*"+this.word+")")},{port:this.port}],this.path="^((/("+this.word+")?)*)",this.url=[{protocol:this.protocol},{server:this.server},{path:this.path}],this.user="^("+this.word+")\\@",this.gitUrl=[this.whitespace,{user:this.user},{server:"("+("("+this.word+"\\.)*")+this.word+"(\\.)"+this.word+")"},{repoPath:":(("+this.word+"/)*("+this.word+".git))"}],this.action="^(install|remove)\\s*",[{url:this.url}]}.apply({});e.eat=s(l),e["default"]=e.eat},{}],2:[function(t,r,e){function n(t){var r;if(r=i.eat(t),""==r.input){var e=r.result.url.protocol,n=r.result.url.server.server,o=r.result.url.server.port,s=r.result.url.path,l=e+"://"+n+":"+o,f=new u(l),h=s.split("/");h.unshift();var c=f;for(var a in h)""!=h[a]&&(console.log("Getting: ",h[a]),c=c.get(h[a]));return f}return console.log("Something went wrong. Result: ",r),null}function o(t){return console.log(t.url()),null}var i=t("./eat"),u=function(){function t(t,r){this._urlPath=[],this._nodes={},this._urlPath=r?r:this._urlPath,this._urlPath.push(t)}return t.prototype.has=function(t){var r=t.toString();return r in this._nodes},t.prototype.get=function(r){var e,n=r.toString();return null!=this._nodes[n]?this._nodes[n]:(e=new t(n,this._urlPath),this._nodes[n]=e,e)},t.prototype.url=function(){return this._urlPath.join("/")},t}();n.fetch=o,r.exports=n},{"./eat":1}]},{},[2])(2)});